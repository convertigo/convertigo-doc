---
layout: page
title: SQL connector
sidebar: c8o_sidebar
permalink: reference-manual/convertigo-objects/databases/sql/sql-connector/
metadesc: Establishes connections with an SQL database.   The  SQL connector  enables Convertigo to connect to any database and execute requests.  The access to
ObjGroup: Databases
ObjCatName: 
ObjName: SQL connector
ObjClass: com.twinsoft.convertigo.beans.connectors.SqlConnector
ObjIcon: /images/beans/connectors/images/sqlconnector_color_32x32.png
topnav: topnavobj
---
##### Establishes connections with an SQL database. 

The <i>SQL connector</i> enables Convertigo to connect to any database and execute requests. <br/>The access to the target database is configured using the <b>Driver</b> property and the <b>Database URL</b> property. Credentials may be defined in the <b>User name</b> and the <b>User password</b> properties, if required. <br/>The <i>SQL connector</i> includes a connection pooling process that allows opening a certain number of connections, defined by the <b>Max. connections</b> property, that are always ready to execute the requests. <br/>The pooled connections are by default kept opened after the transaction execution. This behavior can be inverted using the <b>Keep connection alive</b> property.<br/>The pooled connections can also be automatically tested before execution using the <b>Test connection</b> property. <br/>Idle connections can be detected and automatically reset using the <b>Idle connection search delay</b> property. <br/>The connection pool can be disabled using the <b>Enable connection pool</b> property. <br/>A JNDI mode can also be selected, in the <b>Driver</b> property. In this case, the connection to the database is made without using any JDBC driver nor connection pool. <br/>Using JNDI mode, the connection to the database can be configured using a <span class="computer">context.xml</span> file. This file is located in the <span class="computer">&lt;workspace_folder&gt;/studio</span> folder in Studio, or has to be created in the <span class="computer">&lt;convertigo_webapp&gt;/META-INF/</span> folder in Server.

Property | Type | Category | Description
--- | --- | --- | ---
Comment | String | standard | Describes the object comment to include in the documentation report.<br/>This property generally contains an explanation about the object.
Database URL | String | standard | Defines the database URL.<br/>This property defines the URL needed to connect to the database using the driver class. The database URL syntax depends on the driver class selected in <b>Driver</b> property: <br/><br/>• <span class="computer">sun.jdbc.odbc.JdbcOdbcDriver</span> needs a URL of the form: <span class="computer">jdbc:odbc:&lt;DSN(datasource_name)&gt;</span>. <br/>• <span class="computer">com.ibm.as400.access.AS400JDBCDriver</span> needs a URL of the form: <span class="computer">jdbc:as400://&lt;server_name&gt;:&lt;port(optional)&gt;/&lt;default_schema&gt;;&lt;properties(optional)&gt;</span>. <br/>• <span class="computer">com.mysql.jdbc.Driver</span> needs a URL of the form: <span class="computer">jdbc:mysql://&lt;server_name&gt;:&lt;port(optional)&gt;/&lt;database_name&gt;</span>. <br/>• <span class="computer">net.sourceforge.jtds.jdbc.Driver</span> needs a URL of the form: <span class="computer">jdbc:jtds:sqlserver://&lt;server_name&gt;:&lt;port(optional)&gt;/&lt;database_name&gt;</span>. <br/>• <span class="computer">org.hsqldb.jdbcDriver</span> needs a URL of the form: <span class="computer">jdbc:hsqldb:file:/&lt;file_path&gt;/&lt;database_name&gt;</span>. <br/>• <span class="computer">com.ibm.db2.jcc.DB2Driver</span> needs a URL of the form: <span class="computer">jdbc:db2://&lt;server_name&gt;:&lt;port(optional)&gt;/&lt;database_name&gt;</span>. <br/>• <span class="computer">oracle.jdbc.driver.OracleDriver</span> needs a URL of the form: <span class="computer">jdbc:oracle:&lt;drivertype&gt;:&lt;username/password(optional)&gt;@//&lt;host&gt;:&lt;port(optional)&gt;/&lt;service&gt;</span>, see http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html#05_03 for Oracle official documentation. <br/>• <span class="computer">org.mariadb.jdbc.Driver</span> needs a URL of the form: <span class="computer">jdbc:mysql://&lt;server_name&gt;:&lt;port(optional)&gt;/&lt;database_name&gt;</span>. <br/>• <span class="computer">JNDI</span> needs a JNDI resource name: <span class="computer">jdbc/&lt;resource_ref_name&gt;</span>.<br/>
Driver | String | standard | Defines the <span class="computer">JDBC</span> driver class to use.<br/>The following drivers can be selected:<br/><br/>• <span class="computer">sun.jdbc.odbc.JdbcOdbcDriver</span>: JDBC-ODBC bridge for accessing ODBC databases, for example Microsoft Access. <br/>• <span class="computer">com.ibm.as400.access.AS400JDBCDriver</span>: IBM AS400 database. <br/>• <span class="computer">com.mysql.jdbc.Driver</span>: MySQL database. <br/>• <span class="computer">net.sourceforge.jtds.jdbc.Driver</span>: Microsoft SQL Server database. <br/>• <span class="computer">org.hsqldb.jdbcDriver</span>: HSQLDB database (one is included in the Studio for demos and samples). <br/>• <span class="computer">com.ibm.db2.jcc.DB2Driver</span>: IBM DB2 Server database. <br/>• <span class="computer">oracle.jdbc.driver.OracleDriver</span>: ORACLE database. <br/>• <span class="computer">org.mariadb.jdbc.Driver</span>: MariaDB database, community-developed fork of MySQL. <br/>• <span class="computer">JNDI</span>: JNDI mode, not using any JDBC driver nor the connection pooling process. When using JNDI mode, the connection to the database can be configured using a <span class="computer">context.xml</span> file. This file is located in the <span class="computer">&lt;workspace_folder&gt;/studio</span> folder in Studio, or has to be created in the <span class="computer">&lt;convertigo_webapp&gt;/META-INF/</span> folder in Server. <br/><br/><span class="orangetwinsoft">Note:</span> You can refer to appendix <i>SQL drivers and related jar files</i> in the Operating Guide for more information about driver classes and related jar files.
Max. connections | int | standard | Defines the maximum number of connections allowed in the connection pool to access the target database.<br/>The <i>SQL connector</i> connection pool opens in parallel all connections to the target database. This property defines the maximum number of co-existing connections allowed for this connector to connect to the target database. <br/>For example, HSQLDB database included in Studio only allows one connection.
User name | String | standard | Defines the user name needed for connecting to the database.<br/>This user must exist in the target database and have sufficient authorizations to performs requests executed by transactions.
User password | String | standard | Defines the user password needed for connecting to the database.<br/>This password must correspond to user name defined in the <b>User name</b> property.
Billing Java class | String | expert | Defines the Java class name executed for billing pruposes.<br/>Convertigo supports a plugin architecture offering billing functionalities. Set the name of the billing class to be called by Convertigo for billing purposes.
Carioca authentication | boolean | expert | Defines whether the connector requires a Carioca authentication.<br/>Set to <span class="computer">true</span> if you require that only Carioca-authenticated users be able to use this connector.
Connection testing query | String | expert | Defines the SQL query to execute to test the connection to the database (optional).<br/>The <i>SQL connector</i> connection pool needs to check the validity of opened connections. This optional property defines the SQL query to execute on a new opened connection to check the connection's validity. <br/>If this property is left blank, Convertigo uses a default SQL query to retrieve the list of the database system tables, depending on the chosen <b>Driver</b>:<br/><br/>• <span class="computer">sun.jdbc.odbc.JdbcOdbcDriver</span>: <span class="computer">SELECT 1 AS dbcp_connection_test</span>. <br/>• <span class="computer">com.ibm.as400.access.AS400JDBCDriver</span>: <span class="computer">SELECT * FROM SYSIBM.SQLSCHEMAS FETCH FIRST 1 ROWS ONLY</span>. <br/>• <span class="computer">com.mysql.jdbc.Driver</span>: <span class="computer">SELECT * FROM INFORMATION_SCHEMA.TABLES LIMIT 1</span>. <br/>• <span class="computer">net.sourceforge.jtds.jdbc.Driver</span>: <span class="computer">SELECT TOP 1 * FROM INFORMATION_SCHEMA.TABLES</span>. <br/>• <span class="computer">org.hsqldb.jdbcDriver</span>: <span class="computer">SELECT TOP 1 * FROM INFORMATION_SCHEMA.SYSTEM_TABLES</span>. <br/>• <span class="computer">com.ibm.db2.jcc.DB2Driver</span>: <span class="computer">SELECT * FROM SYSCAT.TABLES FETCH FIRST 1 ROWS</span>. <br/>• <span class="computer">oracle.jdbc.driver.OracleDriver</span>: <span class="computer">SELECT 1 FROM DUAL</span>. <br/>• <span class="computer">org.mariadb.jdbc.Driver</span> needs a URL of the form: <span class="computer">SELECT * FROM INFORMATION_SCHEMA.TABLES LIMIT 1</span>. <br/>• <span class="computer">JNDI</span>: <span class="computer">SELECT 1 AS dbcp_connection_test</span>.<br/>
Enable connection pool | boolean | expert | Defines whether the connection pool is used or not to access target database.<br/>The <i>SQL connector</i> connection pool allows to automatically pre-connect a pool of connections to the target database. This property allows the programmer to enable or disable the connection pool. <br/>If set to <span class="computer">true</span>, the connection pool is enabled and connections are retrieved from the pool. If set to <span class="computer">false</span>, the connection pool is disabled and connections are created on-demand. Default value is <span class="computer">true</span>.
End transaction | String | expert | Defines the transaction to execute before removing the context.<br/>When a Convertigo context is removed, the specified "End transaction" is executed. Place in this transaction any clean up code, for example a Logout transaction.
Idle connection search delay | long | expert | Defines the number of seconds to wait between searches for idle connections in the connection pool (in seconds).<br/>The <i>SQL connector</i> connection pool can automatically search for idle connections and remove them from the pool so they are re-started. This property allows the programmer to set a time delay between two searches. <br/>Default value is <span class="computer">60</span> seconds. To disable the idle connection search, set this value to <span class="computer">0</span>.
Keep connection alive | boolean | expert | Defines whether the connection to the database should be maintained after a transaction execution.<br/>Due to the use of connection pool, the <i>SQL connector</i> prevents database connections from being closed after each transaction execution or context end. This property set to <span class="computer">false</span> will force the closure of a connection after a transaction execution or a context end.
Test connection | boolean | expert | Defines whether the connection pool should test or not the connection before providing it.<br/>The <i>SQL connector</i> connection pool can test the connection before providing it to the requesting transaction for execution. This property allows the programmer to enable or disable this automatic check. <br/>Default value is <span class="computer">false</span>, i.e. the automatic test of each connection is disabled.
