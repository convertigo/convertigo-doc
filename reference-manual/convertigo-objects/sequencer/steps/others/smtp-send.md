---
layout: page
title: SMTP send
sidebar: c8o_sidebar
permalink: reference-manual/convertigo-objects/sequencer/steps/others/smtp-send/
metadesc: Defines a step able to send emails through an SMTP server.    The  SMTP send  step is used to make the sequence send an email to designated email addr
ObjGroup: Sequencer
ObjCatName: others
ObjName: SMTP send
ObjClass: com.twinsoft.convertigo.beans.steps.SmtpStep
ObjIcon: /images/beans/steps/images/smtpstep_32x32.png
topnav: topnavobj
---
##### Defines a step able to send emails through an SMTP server.

The *SMTP send* step is used to make the sequence send an email to designated email addresses through an SMTP server. This is useful for monitoring a sequence progress or completion.

When executed, an *SMTP send* step tries to send an email using a specified set of parameters. If ever the specified SMTP server does not support relaying or anonymous sending, the *SMTP send* step supports authentication.


Property | Type | Category | Description
--- | --- | --- | ---
Attachments | XMLVector | standard | Defines a list of file attachments to send with the email.<br/>This property is an array of files to send as email attachments. Each email attachment is a pair of values:<br/><br/>- **Filepath**: the path of the local file to send, including its original name, defined as a JavaScript expression that is evaluated during the sequence execution,<br/>- **Filename**: the name of the file as attached in the email, defined as a JavaScript expression that is evaluated during the sequence execution.<br/><br/>The filepaths are either absolute or relative to Convertigo environment. Relative paths starting with: â€¢ `./` are relative to Convertigo workspace,<br/><br/>- `.//` are relative to current project folder.<br/><br/>**Note:** A new attachment can be added to the list using the blue keyboard icon. The attachments defined in the list can be ordered using the arrow up and arrow down buttons, or deleted using the red cross icon.
Comment | String | standard | Describes the object comment to include in the documentation report.<br/>This property generally contains an explanation about the object.
Is active | boolean | standard | Defines whether the step is active.
Recipients email addresses | JS expression | standard | Defines recipient email addresses.<br/>This property is a JavaScript expression that is evaluated during the sequence execution and gives the list of recipient email addresses.<br/><br/>This property contains a list of email addresses, separated by semi-colons or commas.<br/><br/>The syntax to use is of the following form: `<type>:<email address>`, where `<type>` can be `To, Cc` or `Bcc`. For example, `To:myself@mydomain.com`.<br/><br/>**Note:** If not specified, the first address is always considered the main recipient (`To`), following addresses are considered secondary recipients (`Cc`).
SMTP server | String | standard | Defines the name or IP address of the SMTP server.<br/>This server must be able to deliver emails to the domains used in recipients addresses. In some cases, you may have to use authentication.
Subject | JS expression | standard | Defines the email subject.<br/>This property is a JavaScript expression that is evaluated during the sequence execution and gives the email subject.<br/><br/>**Note:** It is recommended to not leave it empty.
XSL file | JS expression | standard | Defines the XSL file path to apply on the XML content to send an HTML email content.<br/>This property is a JavaScript expression that is evaluated during the sequence execution and gives the path and name of the XSL file to use to transform the XML data in HTML content. This has as result to send an HTML content email instead of an XML/text email.<br/><br/>This path is either absolute or relative to Convertigo environment. Relative paths starting with:<br/><br/>- `./` are relative to Convertigo workspace,<br/>- `.//` are relative to current project folder.<br/><br/>If the path is empty, not XSL transformation is applied and the mail content is a plain XML/text.
Authentication type | SmtpAuthType | expert | Defines the SMTP authentication type.<br/>You can choose the authentication used by the *SMTP send* step amongst the following types:<br/><br/>- `None`: no authentication, this value is set by default,<br/>- `Basic`: basic authentication,<br/>- `STARTTLS`: authentication using STARTTLS,<br/>- `SSL/TLS`: authentication using SSL/TLS.<br/><br/>All authentication types use the username and password set in the **SMTP user** and **SMTP password** properties.
Content-type | JS expression | expert | Defines the content-type of the email content.<br/>This property is a JavaScript expression that is evaluated during the sequence execution and allows to override the default content-type.<br/><br/>If this property is left empty, the default content-type is:<br/><br/>- `text/plain; charset=UTF-8` in standard text email,<br/>- `text/html; charset=UTF-8` in HTML content email, i.e. if an XSL file is defined in the **XSL file** property.
Delivery receipt | boolean | expert | Defines whether a delivery receipt should be return.<br/>This kind of receipt is sent as soon as the server receives the email. Be aware that a lot of mail servers like gmail are discarding this requests.
Output | boolean | expert | Defines whether the XML generated by this step should be appended to the resulting XML.<br/>Set this property to `true` to add the step's resulting XML to the sequence's output XML (default value for steps generating XML). Set this property to `false` to prevent the steps's XML result to appear in the sequence's output XML.<br/><br/>Setting this property to `false` does not prevent the step's generated XML from being used as a source by other steps.
Read receipt | boolean | expert | Defines whether a read receipt should be return.<br/>This kind of receipt is sent as soon as the recipient opens the email. Be aware that a lot of mail servers like gmail are discarding this requests.
SMTP password | String | expert | Defines the SMTP server authentication user password.<br/>Used alongside **SMTP user** to authenticate on the SMTP server.<br/><br/>To prevent authentication, leave both **SMTP user** and **SMTP password** properties empty. Convertigo then establishes anonymous connection on the SMTP server.
SMTP port | String | expert | Defines the listening port of the SMTP server. Default is `25` for non-auth servers, it can be `587` or `465` for TLS/SSL or STARTTLS servers.
SMTP user | String | expert | Defines the SMTP server authentication username.<br/>If this parameter is used, the step tries to authenticate on the SMTP server using it along with **SMTP password**.
SSL protocols | String | expert | Defines the SSL protocols to use (default: TLSv1.2).<br/>Specifies the SSL protocols that will be enabled for SSL connections. The property value is a whitespace separated list of tokens acceptable to the **javax.net.ssl.SSLSocket.setEnabledProtocols** method (default: TLSv1.2).
Sender email address | JS expression | expert | Defines the email address of the sender.<br/>This property is a JavaScript expression that is evaluated during the sequence execution and contains an email address, but can also accept a value of this form `Convertigo <noreply@fakedomain.fake>` to add the name of the email address owner.  It is useful if you want the receiver(s) to be able to answer the received email.<br/><br/>This property is used depending on the SMTP server, it can be:<br/><br/>- informative and have no consequence in the email sending,<br/>- automatically replaced by the SMTP server by the real email address matching the authentication,<br/>- used by the SMTP server to send the email,<br/>- etc.<br/><br/>Consult your SMTP server documentation for more information about the `FROM` email field.
Source | XMLVector | expert | Defines the source to build email body.<br/>This property allows defining a list of nodes from a previous step used to build the email body content.<br/><br/>A **source** is defined as a reference on a step previously existing in the parent sequence, associated with an XPath applied on the step's result DOM. At runtime, the XPath is applied on the step's current execution result XML and extracts a list of XML nodes resulting from this execution.<br/><br/>The resulting nodes are written in the email body content depending on the nodes types:<br/><br/>- `Attribute/Text node/Comment/CDATA section`: the node text content is directly copied to the email body content,<br/>- `Element`: the element's DOM is pretty printed in the email body content with nice indentation to easily read the XML,<br/>- `Other`: the node's DOM is pretty printed in the email body content.<br/><br/>If the XPath doesn't match or if the source is left blank, the XML output document of the sequence (i.e., sequence resulting XML) is used as source. In this case, the step behavior can be seen as a sequence output dump.
