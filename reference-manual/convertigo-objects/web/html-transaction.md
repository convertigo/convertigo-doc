---
layout: page
title: HTML transaction
sidebar: c8o_sidebar
permalink: reference-manual/convertigo-objects/web/html-transaction/
metadesc: Defines an HTML transaction.   As regards web applications, Convertigo's basic principle is to   • connect to websites,  • detect defined screen class
ObjGroup: Web
ObjCatName: 
ObjName: HTML transaction
ObjClass: com.twinsoft.convertigo.beans.transactions.HtmlTransaction
ObjIcon: /images/beans/transactions/images/htmltransaction_color_32x32.png
topnav: topnavobj
---
##### Defines an HTML transaction. 

As regards web applications, Convertigo's basic principle is to:<br/><br/>• connect to websites, <br/>• detect defined screen classes and navigate through web pages,<br/>• extract web page data using screen class-specific extraction rules,<br/>• treat extracted data in order to generate an XML document structured as required.<br/><br/>This process defines the notion of <i>HTML transaction</i>. <br/><i>HTML transactions</i> are based on input variables, as other transactions. They execute actions that are programmed using event handlers and statements, they are designed to handle web pages navigation. <i>HTML Transactions</i> return data in an XML structure resulting from automated navigation on the target website and extraction rules execution on these pages or, in the case of <i>Web Clipper</i> extraction rule, clip required HTML parts of the web pages.<br/>A Convertigo project can contain several <i>HTML transactions</i>, each of them being exposed as standard REST or SOAP web service method.

Property | Type | Category | Description
--- | --- | --- | ---
Accessibility | Accessibility | standard | Defines the transaction/sequence accessibility.<br/>This property can take the following values: <br/><br/>• <span class="computer">Public</span>: The transaction/sequence is runnable from everyone and everywhere, visible in the Test Platform and is also exposed in the SOAP WSDL as a web service method. <br/>• <span class="computer">Hidden</span>: The transaction/sequence is runnable but only from people who know the execution URL, not visible in the Test Platform nor exposed in the SOAP WSDL. <br/>• <span class="computer">Private</span>: The transaction/sequence is only runnable from within the Convertigo engine (<i>Call Transaction</i>/(<i>Call Sequence</i> steps), is not visible in the Test Platform and cannot be requested as SOAP web service method. This value is used for tests, unfinished transactions/sequences or functionalities not to be exposed. Private transactions/sequences remain runnable in the Studio, for the developer to be able to test its developments.<br/><br/><span class="orangetwinsoft">Note:</span> In the Test Platform: <br/><br/>• The administrator user (authenticated in Administration Console or Test Platform) can see and run all transactions / sequences, no matter what their <b>accessibility</b> is. <br/>• The test user (authenticated in the Test Platform or in case of anonymous access) can see and run public transactions/sequences and run hidden ones if he knows their execution URL. <br/>
Comment | String | standard | Describes the object comment to include in the documentation report.<br/>This property generally contains an explanation about the object.
HTTP response in CDATA | boolean | standard | Defines if the string result must be in a CDATA under the root Element or in a simple TextNode.<br/>If 'true', CDATA is used and the string content isn't modified. If 'false', TextNode is used and the string content is automatically XML encoded.
HTTP string charset | String | standard | Defines the charset use to decode the data string received through the HTTP connector.<br/>Works only for 'HTTP data encoding' in 'string' mode. If blank, the charset is retrieve from the response header if any else 'ascii' is used.
HTTP verb | HttpMethodType | standard | Defines the HTTP verb to use for this HTTP request: <span class="computer">GET</span>, <span class="computer">POST</span>, <span class="computer">PUT</span>, <span class="computer">DELETE</span>, <span class="computer">HEAD</span>, <span class="computer">TRACE</span>, <span class="computer">OPTIONS</span> or <span class="computer">CONNECT</span>.<br/>For more information about HTTP verbs, you can visit the following RFC page: <i>http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html</i>.
Response timeout | long | standard | Defines the response maximum waiting time (in seconds).<br/>Maximum time (in seconds) for a transaction/sequence to run. When specified time is reached, the transaction/sequence ends and returns a timeout error. If requested through the SOAP interface, the error is returned as a SOAP exception.
Sub path | String | standard | Defines the end of the path to use for connecting to the target web page.<br/><i>HTML transaction</i> can connect automatically to a target web page without using a specific statement (see the <b>Maintain connector state</b> property). The <b>Sub path</b> property allows to define the sub path, relative to the connector root path, to connect to the target web page URI.<br/>For example, if the target is: <span class="computer">http://server/MyApp/targetpage.jsp</span>, the connector server would be: <span class="computer">server</span>, the connector root path: <span class="computer">/MyApp</span> and the transaction sub path: <span class="computer">/targetpage.jsp</span>.
Add statistics to response | boolean | expert | Defines whether some statistics of execution of the transaction/sequence should be added as data in the transaction/sequence's response.<br/>If this property is set to <span class="computer">true</span>, the transaction/sequence response will be enhanced with the statistics data of its execution (total time for the request, time spent waiting for the mainframe, etc.). <br/><span class="orangetwinsoft">Note:</span> This property has nothing to do with the general property of the Convertigo engine <b>Insert statistics in the generated document</b> that can be edited in the <i>Configuration</i> page of the <i>Administration Console</i>.
Allow Download Attachment | boolean | expert | Defines if files of multipart response must be written.<br/>If the property is true, the attachments are written on temporary files. In SOAP, create an &lt;attachment&gt; tag for each attachment directly under the corresponding &lt;xop:Include&gt; element.
Authenticated context required | boolean | expert | Defines whether an authenticated context is required to execute the transaction/sequence.<br/>If this property is set to <span class="computer">true</span>, the context of execution of the transaction/sequence must have been authenticated. Otherwise, the transaction/sequence is not executed. Default value is <span class="computer">false</span> for a standard access to transactions/sequences. <br/><span class="orangetwinsoft">Notes:</span> <br/><br/>• When a context is authenticated, all the contexts in the same HTTP session are also authenticated. For more information about context and HTTP session, see <i>Context general presentation</i> paragraph in <i>JavaScript Objects APIs</i> chapter. <br/>• When executing a transaction/sequence from stub (<span class="computer">__stub</span> variable passed to <span class="computer">true</span> in entry), this property is ignored. Indeed, executing from stub is for testing purposes and should not require any authentication: the context would never be authenticated as the transaction/sequence setting the context as authenticated could also be executed from stub.<br/>
Authenticated user as cache key | boolean | expert | Defines whether the authenticated user should be used as cache key.<br/>When the cache is enabled (<b>Response lifetime</b> setting filled with a time-to-live), the <b>Authenticated user as cache key</b> property allows to specify to use the authenticated user ID from context/session as an additional key to the cache. <br/>It would have as effect that two different identified users cannot retrieve the cached response of the other for the same request. Default value is <span class="computer">false</span>: the authenticated user is not used as cache key.
Call the biller | boolean | expert | Defines whether the billing management module should be called for each generated XML document.<br/>If this property is set to <span class="computer">true</span>, the applicable billing management module, defined thanks to the connector's billing class name property, is invoqued. <b>This parameter should never be changed</b> (Convertigo private use only).
Character set | String | expert | Defines the character set used for operations on the generated XML document (default: <span class="computer">UTF-8</span>).
Custom HTTP verb | String | expert | Defines a custom HTTP verb that override the HTTP verb selected.<br/>This property allows to override the verb of <span class="computer">HTTP verb</span> but inherit its behavior. Does nothing if empty.
Follow Redirect | boolean | expert | Defines if the transaction automatically follow the redirect.<br/>If the property is true, a new request is done to the new URL defined by the <span class="computer">Location</span> header. If the property is false and a redirect occurs, the result will be empty so we recommend to enable the <span class="computer">HttpInfo</span> property.
HTTP Pool | HttpPool | expert | Defines the HTTP pool policy for connection reuse.<br/>Possible values: <br/><br/>• <b>no</b>: create a new connection for each request<br/>• <b>context</b>: pool connection for the current <span class="computer">convertigo context</span><br/>• <b>session</b>: pool connection for the current <span class="computer">http session</span><br/>• <b>global</b>: pool connection for the whole server<br/><br/>Default value is <span class="computer">global</span>.
HTTP headers | XMLVector | expert | Defines HTTP headers to be sent.<br/><i>HTML transaction</i> can connect automatically to a target web page without using a specific statement (see the <b>Maintain connector state</b> property). The <b>HTTP headers</b> property allows to define the request Header Fields to be sent with the request to connect to the target web page. <br/>For each header, two colums have to be parametered:<br/><br/>• <b>Variable</b>: HTTP header name (ex: <span class="computer">Content-Type</span>).<br/>• <b>Value</b>: HTTP header value (ex: <span class="computer">application/x-www-from-urlencoded</span>). <br/>
Handles cookies | boolean | expert | Defines whether cookies must be handled.<br/>If set to <span class="computer">true</span> (default value), the transaction maintains cookies in Convertigo's context. Default value should not be changed unless you specifically want the transaction to ignore cookies while browsing.
Include certificate group | boolean | expert | Includes the certificate group into the cache key.<br/>If set to <span class="computer">true</span>, the certificate group is added to the cache key which is used to determine whether the transaction's response should be pulled from the cache or not. <br/>A transaction's cached response is pulled from the cache when all cache key values are corresponding to a stored cache entry.
Maintains connector state | boolean | expert | Defines whether the connector state must be maintained between transactions.<br/>If set to <span class="computer">false</span> (default value), each time the transaction is executed, it connects the connector browser to the target web page specified in the <b>Sub path</b> property using the <b>HTTP headers</b> property for headers, and the <b>Synchronization</b> property to synchronize on the accessed page.<br/>If set to <span class="computer">true</span>, the transaction maintains the connector state, i.e. uses the browser in the state in which it has been left when the preceding transaction ended.
Request template | String | expert | Defines the request body template file path.<br/>HTTP request sent by the transaction can contain data in its body. This data is based on a user-defined template file, which can be: <br/><br/>• an XML file describing the content of the HTTP request body, possibly including transaction input variables in the data structure, <br/>• an XSL file used to transform the variable-based transaction input XML to generate the content of the HTTP request body. <br/><br/>This property allows to define the path of the template file, it is either: <br/><br/>• a local file, by default relative to the project's directory, or to the project's current subfolder, <br/>• a local file relative to the Convertigo webapp common <span class="computer">templates</span> directory, <br/>• an absolute path. <br/><br/>If the template file is an XML file, it can contain transaction variables identified with a specific syntax in the XML and dynamically replaced at runtime with received variable values. <br/>The syntax to use in the XML template file to refer to a transaction variable is the following: <br/><br/>• <span class="computer">$(&lt;variableHttpName&gt;)</span>: this simple notation starts with a <span class="computer">$</span> character and then includes between brackets the <b>HTTP name</b> of the variable. Beware that the <b>HTTP name</b> of the variable can be different from the variable name (see <i>Variable</i> objects documentation). <br/>• <span class="computer">$(&lt;variableHttpName&gt;)concat</span>: this notation is very similar to the preceding, excepted that the last bracket is followed by the <span class="computer">concat</span> keyword. It starts by a <span class="computer">$</span> character and includes between brackets the <b>HTTP name</b> of the variable, that should be in this case a <i>Multi-valued variable</i>. The <span class="computer">concat</span> keyword implies that all values received in the <i>Multi-valued variable</i> must be concatenated before replacing this notation by this computed value in the template XML. <br/>• <span class="computer">$(&lt;variableHttpName&gt;)</span>: this notation is identical to the first notation, but the behavior is different for a <i>Multi-valued variable</i>. The tag surrounding this notation in the template XML is duplicated for each value in the <i>Multi-valued variable</i>.  <br/>
Response client cache | boolean | expert | Defines whether the transaction/sequence response should be cached by the client.<br/>If set to <span class="computer">false</span>, the response XML is sent to the client along with HTTP headers forcing the client browser not to store it in its local cache. This is the default value, since dynamic responses are usually preferred. If set to <span class="computer">true</span>, the XML response is sent normally.
Response lifetime | String | expert | Defines the response time-to-live (in seconds) in cache, i.e. the time during which the cached response remains valid or time interval for its renewal.  This property enables the cache when filled, disables the cache when left empty.<br/>The <b>Response lifetime</b> property allows to specify the cache settings for the transaction/sequence's response. It can be set to the following values: <br/><br/>• <span class="computer">&lt;empty&gt;</span>: Disables the cache for the transaction/sequence. The response will not be cached and each request will execute the complete transaction. It is the default value. <br/>• <span class="computer">absolute,&lt;time in secs&gt;</span>: Enables the cache for the transaction/sequence. The response will be cached for the time specified in seconds. If an other request with the same parameters occurs within this time, the response will be returned from the cache. <br/>• <span class="computer">daily,hh:mm:ss</span>: Enables the cache for the transaction/sequence. The response will be cached until <span class="computer">hh:mm:ss</span> of the current day is reached. If an other request with the same parameters occurs before this time, the response will be returned from the cache. <b>A new day starts at 00:00:00.</b> <br/>• <span class="computer">weekly,hh:mm:ss,w</span>: Enables the cache for the transaction/sequence. The response will be cached until <span class="computer">hh:mm:ss</span> of the <span class="computer">wth</span> day of week is reached. For Sunday w = 1, for Monday w = 2 ... and for Saturday w = 7. If an other request with the same parameters occurs before this time, the response will be returned from the cache. <b>A new day starts at 00:00:00.</b> <br/>• <span class="computer">monthly,hh:mm:ss,d</span>: Enables the cache for the transaction/sequence. The response will be cached until <span class="computer">hh:mm:ss</span> of the <span class="computer">dth</span> day of month is reached. If an other request with the same parameters occurs before this time, the response will be returned from the cache. <b>A new day starts at 00:00:00.</b> <br/><br/><span class="orangetwinsoft">Notes:</span> <br/><br/>• The <b>Response lifetime</b> property editor proposes a <i>Generator tool</i> that can help you configure the <b>Response lifetime</b> setting. <br/>• The <i>Variable</i> objects contain the <b>Cache key</b> property that allows to specify to use this variable as a key to the cache or not. See <i>Variable</i> objects documentation for more information. <br/>
Secure connection required | boolean | expert | Defines whether the transaction/sequence should be called through a secured connection (e.g. HTTPS).<br/>Depending on the requester, if this property is set to <span class="computer">true</span>, the transaction/sequence must be accessed through a secure connection (e.g. HTTPS in case of HTTP access). Default value is <span class="computer">false</span> for a standard access to transactions/sequences.
Style sheet | int | expert | Defines how the XML returned by the transaction has to be processed by XSLT.<br/>This property can take the following values:<br/><br/>• <span class="computer">None</span>: Do not process with XSLT. Usual setting for web services (SOAP or REST) where plain XML data is to be returned.<br/>• <span class="computer">From transaction</span>: Use the XSL style sheet attached to the transaction. When used, make sure a style sheet object is added to the transaction.<br/>• <span class="computer">From last detected screen class</span>: Use XSL style sheet attached to the last detected screen class (in case of a transaction with screen classes). <br/><br/>Transactions using sheets from last detected screen class are mainly used in Web Clipping or Legacy Publishing projects.
Synchronization | TriggerXMLizer | expert | Defines how to synchronize the transaction.<br/>HTML transactions can connect automatically (without using any specific statement) to a target web page (see the <b>Maintain connector state</b> property). This property allows to specify which type of synchronizer is used in the connection process.<br/>A synchronizer states how and when accessed pages are considered fully loaded. Only then are data extracted and new pages re-detected. <br/>There are several types of synchronizers, that are described hereafter:<br/><br/>• <span class="computer">Document completed</span>: The synchronizer waits for a number of documents to be completed. Specify here how many "document completed" events Convertigo has to wait for before assuming that the page is complete. In many cases, when the target application uses HTTP META redirects or JavaScript redirects, the document is loaded several times. You can monitor <br/><span class="computer">==== start parse ======</span><br/>and<br/><span class="computer">==== Parse end ==(XXXms )====================</span><br/>traces in the Engine console (debug mode) to count the number of "document completed" events needed for the synchronizer. The <span class="computer">Document completed</span> synchronizer can be configured to also stop on alert messages that could pop up. Alert messages do not trigger a "document completed" event and are not detected by this synchronizer. To activate this option, check the <b>Stop on alert</b> checkbox. <br/>• <span class="computer">XPath</span>: The synchronizer waits until a specified XPath is found. Convertigo tries to evaluate the specified XPath while receiving a web page or executing JavaScript in it. Once the XPath matches at least one node of the page, the synchronizer returns. <br/>• <span class="computer">Wait time</span>: The synchronizer waits until a specified time is reached (in ms, set via the <b>Timeout</b> property). <br/>• <span class="computer">Screen Class</span>: The synchronizer waits for one of the selected screen classes to be detected. Several screen classes can be selected to be waited for. The synchronizer returns when one of them is reached. <br/>• <span class="computer">Download started</span>: The synchronizer waits for a download request. This is the perfect synchronizer to use before a <b>Get attachment</b> statement. <br/>• <span class="computer">No wait</span>: The synchronizer doesn't wait and execution proceeds directly. <br/><br/>For all synchronizer types, the maximum waiting time is set using the <b>Timeout</b> property.
URL charset encoding | String | expert | Defines the charset encoding to use for the variable values sent as parameters in HTTP request.<br/>This property allows to define the charset encoding used to URL-encode the parameter values: <br/><br/>• GET parameters for the query string, <br/>• POST parameters in case of <span class="computer">application/x-www-form-urlencoded</span> content-type. <br/><br/>Default value is blank. If blank, the parent connector's <b>Default URL charset encoding</b> property value is used.
