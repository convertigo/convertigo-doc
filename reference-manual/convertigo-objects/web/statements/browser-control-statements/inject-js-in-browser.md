---
layout: page
title: Inject JS in browser
sidebar: c8o_sidebar
permalink: reference-manual/convertigo-objects/web/statements/browser-control-statements/inject-js-in-browser/
metadesc: Injects JavaScript code under the node matching the specified XPath.   This statement enables Convertigo to inject any JavaScript code in the target w
ObjGroup: Web
ObjCatName: browser-control-statements
ObjName: Inject JS in browser
ObjClass: com.twinsoft.convertigo.beans.statements.InvokeBrowserJsStatement
ObjIcon: /images/beans/statements/images/invokebrowserjs_32x32.png
topnav: topnavobj
---
##### Injects JavaScript code under the node matching the specified XPath. 

This statement enables Convertigo to inject any JavaScript code in the target web page. It can then dynamically invoke any existing JavaScript code from the target page.<br/>The <i>Inject JS in browser</i> statement dynamically creates a <span class="computer">SCRIPT</span> tag under the node designated by the <b>XPath</b> property, containing the JavaScript code specified by the <b>JS code</b> property, and executes it.

Property | Type | Category | Description
--- | --- | --- | ---
Comment | String | standard | Describes the object comment to include in the documentation report.<br/>This property generally contains an explanation about the object.
Delay if XPath not found | long | standard | Defines the maximum delay the statement waits if the XPath doesn't currently exists.<br/>When no node in the page DOM matches the XPath defined in <b>XPath</b> property, the statement waits for it to match up to this delay, set in milliseconds. <br/>Convertigo tries to evaluate the specified XPath while receiving a web page or executing JavaScript in it. Once the XPath matches at least one node of the page, the statement continues its action. <br/>Note: It is equivalent to defining a statement <i>Wait synchronization</i> with an <span class="computer">XPath</span> synchronizer before this statement, waiting for the same XPath.
Is active | boolean | standard | Defines whether the statement is active.
JS code | String | standard | Defines the JavaScript code to inject and invoke.<br/>Any JavaScript expression that will be valid for the page currently accessed by the HTML connector. This script is dynamically added as a <span class="computer">SCRIPT</span> tag under the node specified by the <b>XPath</b> property and evaluated.<br/>For calling a JavaScript function already defined in the page, do it using this syntax: <span class="computer">functionToBeCalled();</span>. You can also replace an existing JavaScript function by writing another JavaScript function with a similar name. This can be useful if a website features JavaScript functions unsupported by Convertigo's Mozilla/Firefox HTML parser.<br/>You can also pass Convertigo variables to your JavaScript code by using the <b>Variables</b> property.
Variables | XMLVector | standard | Declares and initializes variables from Convertigo in injected JavaScript code.<br/>This property allows passing transaction's scope variables to the JavaScript code injected in the web page. These variables will be initialized with a value resulting from a JavaScript expression evaluated during the transaction execution (for example using transaction variables).<br/>These variables must be of standard types (for example <span class="computer">int</span>, <span class="computer">string</span>, etc.), complex types are not supported (for example <span class="computer">Array</span> or <span class="computer">DOM</span>). <br/>For each variable, three columns have to be set:<br/><br/>• <b>Variable</b>: the variable name, <br/>• <b>Comment</b>: a comment to illustrate this variable, <br/>• <b>JS Expression</b>: the JavaScript expression to execute to give the variable value. <br/><br/><span class="orangetwinsoft">Note:</span> A new variable can be added to the list using the blue keyboard icon. The variables defined in the list can be ordered using the arrow up and arrow down buttons, or deleted using the red cross icon.
XPath | JS expression | standard | Defines the XPath expression of elements on which the statement applies.<br/>Depending on the statement, the execution of this <b>XPath</b> on the web page DOM can result in a single <span class="computer">Node</span> or a <span class="computer">NodeList</span>.
Synchronization | TriggerXMLizer | expert | Defines how to synchronize the statement.<br/>A synchronizer states how and when accessed pages are considered fully loaded. Only then are data extracted and new pages re-detected.<br/>There are several types of synchronizers, that are described hereafter:<br/><br/>• <span class="computer">Document completed</span>: The synchronizer waits for a number of documents to be completed. Specify here how many "document completed" events Convertigo has to wait for before assuming that the page is complete. In many cases, when the target application uses HTTP META redirects or JavaScript redirects, the document is loaded several times. You can monitor <br/><span class="computer">==== start parse ======</span><br/>and<br/><span class="computer">==== Parse end ==(XXXms )====================</span><br/>traces in the Engine console (debug mode) to count the number of "document completed" events needed for the synchronizer. The <span class="computer">Document completed</span> synchronizer can be configured to also stop on alert messages that could pop up. Alert messages do not trigger a "document completed" event and are not detected by this synchronizer. To activate this option, check the <b>Stop on alert</b> checkbox. <br/>• <span class="computer">XPath</span>: The synchronizer waits until a specified XPath is found. Convertigo tries to evaluate the specified XPath while receiving a web page or executing JavaScript in it. Once the XPath matches at least one node of the page, the synchronizer returns. <br/>• <span class="computer">Wait time</span>: The synchronizer waits until a specified time is reached (in ms, set via the <b>Timeout</b> property). <br/>• <span class="computer">Screen Class</span>: The synchronizer waits for one of the selected screen classes to be detected. Several screen classes can be selected to be waited for. The synchronizer returns when one of them is reached. <br/>• <span class="computer">Download started</span>: The synchronizer waits for a download request. This is the perfect synchronizer to use before a <b>Get attachment</b> statement. <br/>• <span class="computer">No wait</span>: The synchronizer doesn't wait and execution proceeds directly. <br/><br/>For all synchronizer types, the maximum waiting time is set using the <b>Timeout</b> property.
